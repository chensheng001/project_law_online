!function(e,n){var i=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=n);else try{i.innerHTML=n}catch(t){i.innerText=n}}(document,".city-picker-bg{\n    background:transparent;\n}\n.city-picker-backdrop {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 1;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    -webkit-transition: 0.1s opacity linear;\n    transition: 0.1s opacity linear;\n}\n.city-bgclose{\n    width: 100%;\n    height: 100%;\n    z-index: 2;\n    position: absolute;\n}\n.city-picker{\n    z-index: 3;\n    position: absolute;\n    background: #eee;\n    width: 100%;\n    height: 296px;\n    bottom: 0;\n}\n.city-picker .city-picker-header{\n    position: absolute;\n    height: 44px;\n    width: 100%;\n}\n.city-picker .city-picker-header .button{\n    font-size: 18px;\n}\n.city-picker .ionic-scroll{\n  height: 252px;\n}\n.city-picker .ionic-scroll .scroll{\n    padding: 108px 0;\n}\n.city-picker .ionic-scroll li {\n    position: relative;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 36px;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    padding: 0 10px;\n    overflow: hidden;\n    line-height: 36px;\n    color: #000;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    -webkit-transition: 300ms;\n    -o-transition: 300ms;\n    transition: 300ms;\n}\n.city-picker .city-picker-inner{\n    height: 252px;position: relative;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    display: flex;\n    padding: 0;\n    font-size: 1.2rem;\n    text-align: right;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    -webkit-justify-content: center;\n    justify-content: center;\n    /*-webkit-mask-box-image: -webkit-linear-gradient(bottom, transparent, transparent 5%, white 20%, white 80%, transparent 95%, transparent);\n    -webkit-mask-box-image: linear-gradient(to top, transparent, transparent 5%, white 20%, white 80%, transparent 95%, transparent);*/\n}\n\n.city-picker .picker-center-highlight {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  margin-top: 0px;\n  pointer-events: none;\n}\n/*.city-picker .picker-center-highlight:after {\n    position: absolute;\n    top: auto;\n    right: auto;\n    margin-bottom: -18px;\n    bottom: 0;\n    left: 0;\n    z-index: 15;\n    display: block;\n    width: 100%;\n    height: 50%;\n    content: '';\n    background-color: rgba(255,255,255,.4);\n    -webkit-transform-origin: 50% 100%;\n    -ms-transform-origin: 50% 100%;\n    -o-transform-origin: 50% 100%;\n    transform-origin: 50% 100%;\n}\n.city-picker .picker-center-highlight:before {\n  position: absolute;\n  top: 0;\n  right: auto;\n  bottom: auto;\n  left: 0;\n  z-index: 15;\n  display: block;\n  width: 100%;\n  height: 50%;\n  margin-top:-18px;\n  content: '';\n  background-color: rgba(255,255,255,.4);\n  -webkit-transform-origin: 50% 0;\n      -ms-transform-origin: 50% 0;\n       -o-transform-origin: 50% 0;\n          transform-origin: 50% 0;\n}*/\n\n.city-picker .picker-center-highlight:before {\n  height: 100%;\n  margin: 0 auto;\n  z-index: 3;\n  background-image: -webkit-linear-gradient(top,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6)),-webkit-linear-gradient(bottom,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6));\n  background-image: linear-gradient(180deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6)),linear-gradient(0deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.6));\n  background-position: top,bottom;\n  background-size: 100% 108px;\n  background-repeat: no-repeat;\n  position: absolute;\n  left: 0;\n  top: 0;\n  content: '';\n  width: 100%;\n}\n.city-picker .picker-center-highlight:after {\n  content: '';\n  width: 100%;\n  height: 36px;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  margin-top:-18px;\n  z-index: 3;\n  background-image: -webkit-linear-gradient(top,#d0d0d0,#d0d0d0,transparent,transparent),-webkit-linear-gradient(bottom,#d0d0d0,#d0d0d0,transparent,transparent);\n  background-image: linear-gradient(180deg,#d0d0d0,#d0d0d0,transparent,transparent),linear-gradient(0deg,#d0d0d0,#d0d0d0,transparent,transparent);\n  background-position: top,bottom;\n  background-size: 100% 1px;\n  background-repeat: no-repeat;\n}\n.city-picker .row,.city-picker  .col{padding: 0;}\n.ionic-citypicker .item-note:after{\n  content: \" \";\n  display: inline-block;\n  -webkit-transform: rotate(45deg);\n  transform: rotate(45deg);\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #c8c8cd;\n  border-style: solid;\n  position: relative;\n  top: -2px;\n  top: -1px;\n  margin-left: .3em;\n}"),!function(e){try{e=angular.module("ionic-citypicker.templates")}catch(n){e=angular.module("ionic-citypicker.templates",[])}e.run(["$templateCache",function(e){e.put("ionic-citypicker.html",'<div ng-class="{\'city-picker-backdrop\' : vm.backdrop }"><ion-modal-view class=city-picker-bg><div class=city-bgclose ng-click=vm.clickToClose()></div><div class=city-picker><header class="bar city-picker-header" ng-class=vm.barCssClass><div class=buttons><button class="button button-clear button-positive" ng-click=vm.returnCancel()>取消</button></div><h1 class=title></h1><div class=buttons><button class="button button-clear button-positive" ng-click=vm.returnOk()>{{vm.buttonText}}</button></div></header><div class="city-picker-inner has-header"><div class=row ng-if="vm.isSelectArea == 1"><div class="col col-33"><ion-scroll-minh overflow-scroll=false delegate-handle={{vm.provinceHandle}} on-scroll-complete="vm.getValue(\'province\')" scrollbar-y=false><ul><li ng-repeat="province in vm.AreaService track by $index">{{province.name}}</li></ul></ion-scroll-minh></div><div class="col col-33"><ion-scroll-minh overflow-scroll=false delegate-handle={{vm.cityHandle}} on-scroll-complete="vm.getValue(\'city\')" scrollbar-y=false><ul><li ng-repeat="city in vm.province.sub track by $index">{{city.name}}</li></ul></ion-scroll-minh></div><div class="col col-33"><ion-scroll-minh overflow-scroll=false delegate-handle={{vm.countryHandle}} on-scroll-complete="vm.getValue(\'country\')" scrollbar-y=false><ul><li ng-repeat="country in vm.city.sub track by $index">{{country.name}}</li></ul></ion-scroll-minh></div></div><div class=row ng-if="vm.isSelectArea == 2"><div class="col col-50"><ion-scroll-minh overflow-scroll=false delegate-handle={{vm.provinceHandle}} on-scroll-complete="vm.getValue(\'province\')" scrollbar-y=false><ul><li ng-repeat="province in vm.AreaService track by $index">{{province.name}}</li></ul></ion-scroll-minh></div><div class="col col-50"><ion-scroll-minh overflow-scroll=false delegate-handle={{vm.cityHandle}} on-scroll-complete="vm.getValue(\'city\')" scrollbar-y=false><ul><li ng-repeat="city in vm.province.sub track by $index">{{city.name}}</li></ul></ion-scroll-minh></div></div><div class=picker-center-highlight></div></div></div></ion-modal-view></div>')}])}(),angular.module("ionic-citypicker.directive",["ionic"]).directive("ionScrollMinh",["$timeout","$controller","$ionicBind","$ionicConfig",function(e,n,i,t){return{restrict:"E",scope:!0,controller:function(){},compile:function(e,a){function o(e,t,o){function s(){e.$onScrollComplete({scrollTop:r.scrollView.__scrollTop,scrollLeft:r.scrollView.__scrollLeft})}i(e,o,{direction:"@",paging:"@",$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",scroll:"@",scrollbarX:"@",scrollbarY:"@",zooming:"@",minZoom:"@",maxZoom:"@"}),e.direction=e.direction||"y",angular.isDefined(o.padding)&&e.$watch(o.padding,function(e){l.toggleClass("padding",!!e)}),e.$eval(e.paging)===!0&&l.addClass("scroll-paging"),e.direction||(e.direction="y");var d=e.$eval(e.paging)===!0;c&&t.addClass("overflow-scroll"),t.addClass("scroll-"+e.direction);var p={el:t[0],delegateHandle:o.delegateHandle,locking:"true"===(o.locking||"true"),bouncing:e.$eval(o.hasBouncing),paging:d,scrollbarX:e.$eval(e.scrollbarX)!==!1,scrollbarY:e.$eval(e.scrollbarY)!==!1,scrollingX:e.direction.indexOf("x")>=0,scrollingY:e.direction.indexOf("y")>=0,zooming:e.$eval(e.zooming)===!0,maxZoom:e.$eval(e.maxZoom)||3,minZoom:e.$eval(e.minZoom)||.5,preventDefault:!0,nativeScrolling:c,scrollingComplete:s};d&&(p.speedMultiplier=.8,p.bouncing=!1),r=n("$ionicScroll",{$scope:e,scrollViewOptions:p}),e.$on("$destroy",function(){p&&(p.scrollingComplete=noop,delete p.el),l=null,t=null,a.$$element=null})}var r;e.addClass("scroll-view ionic-scroll");var l=angular.element('<div class="scroll"></div>');l.append(e.contents()),e.append(l);var c="false"!==a.overflowScroll&&("true"===a.overflowScroll||!t.scrolling.jsScrolling());return{pre:o}}}}]);var app=angular.module("ionic-citypicker",["ionic","ionic-citypicker.directive","ionic-citypicker.templates"]);app.directive("ionicCityPicker",["$ionicPopup","$timeout","$ionicScrollDelegate","$ionicModal",function(e,n,i,t){function a(e){return"boolean"==typeof e}function o(e){return"[object Array]"===toString.apply(e)}return{restrict:"AE",template:"<div class={{vm.cssClass}}><i class={{vm.iconClass}}></i>{{vm.title}}<span class={{vm.spanClass}}>{{vm.areaData}}</span></div></div>",scope:{options:"=options"},link:function(e,r,l){var c=e.vm={},s=e.options,d=null;c.uuid=Math.random().toString(36).substring(3,8),c.provinceHandle="province-"+c.uuid,c.cityHandle="city-"+c.uuid,c.countryHandle="country-"+c.uuid,c.title=s.title||"",c.buttonText=s.buttonText||"完成",c.cssClass="ionic-citypicker item"+(angular.isDefined(s.iconClass)?"  ":" ")+(angular.isDefined(s.cssClass)?s.cssClass:""),c.iconClass="icon "+(angular.isDefined(s.iconClass)?s.iconClass:""),c.spanClass=angular.isDefined(s.spanClass)?s.spanClass:"item-note",c.barCssClass=angular.isDefined(s.barCssClass)?s.barCssClass:"bar-stable",c.backdrop=!a(s.backdrop)||s.backdrop,c.backdropClickToClose=!!a(s.backdropClickToClose)&&s.backdropClickToClose,c.hardwareBackButtonClose=!a(s.hardwareBackButtonClose)||s.hardwareBackButtonClose,c.watchChange=!!a(s.watchChange)&&s.watchChange,c.AreaService=JSON.parse(s.cityPickers),c.selectLevel=s.selectLevel?s.selectLevel:3,c.isSelectArea=3==c.selectLevel?1:2,c.tag=s.tag||"-",c.step=s.step||36,angular.isDefined(s.defaultAreaData)&&s.defaultAreaData.length>1?(c.defaultAreaData=s.defaultAreaData,c.areaData=c.defaultAreaData.join(c.tag)):(c.defaultAreaData=[c.AreaService[0].name,c.AreaService[0].sub[0].name,c.AreaService[0].sub[0].sub[0].name],c.areaData=angular.isDefined(s.areaData)?s.areaData.join(c.tag):"请选择城市"),s.areaData=c.areaData.split(c.tag),c.returnOk=function(){switch(c.selectLevel){case 3:c.areaData=c.province.name+c.tag+c.city.name+c.tag+c.country.name;break;case 2:c.areaData=c.province.name+c.tag+c.city.name;break;case 1:c.areaData=c.city.name}s.areaData=c.areaData.split(c.tag),n(function(){d&&d.hide(),s.buttonClicked&&s.buttonClicked()},50)},c.returnCancel=function(){d&&d.hide(),n(function(){c.initAreaData(c.areaData.split(c.tag))},150)},c.clickToClose=function(){c.backdropClickToClose&&c.returnCancel()},c.getValue=function(e){switch(n.cancel(c.runing),e){case"province":c.AreaService||alert("province数据出错");var t=!0,a=c.provinceHandle,o=c.cityHandle;break;case"city":c.province.sub||alert("city数据出错");var r=!0,a=c.cityHandle,o=c.countryHandle;break;case"country":c.city.sub||alert("country数据出错");var l=!0,a=c.countryHandle,o=null}var s=i.$getByHandle(a).getScrollPosition().top,d=Math.round(s/c.step);return s%c.step!==0?(i.$getByHandle(a).scrollTo(0,d*c.step,!0),!1):void(c.runing=n(function(){t&&(c.province=c.AreaService[d],c.city=c.province.sub[0],c.country={},c.city&&c.city.sub&&(c.country=c.city.sub[0])),r&&(c.city=c.province.sub[d],c.country={},c.city&&c.city.sub&&(c.country=c.city.sub[0])),l&&(c.country=c.city.sub[d]),o&&i.$getByHandle(o).scrollTop()}))},c.initAreaData=function(e){if(e[0])for(var n=0;n<c.AreaService.length;n++)if(e[0]===c.AreaService[n].name){i.$getByHandle(c.provinceHandle).scrollTo(0,n*c.step),c.province=c.AreaService[n];break}if(e[1]&&c.province&&c.province.sub)for(var n=0;n<c.province.sub.length;n++)if(e[1]===c.province.sub[n].name){i.$getByHandle(c.cityHandle).scrollTo(0,n*c.step),c.city=c.province.sub[n];break}if(e[2]&&c.city&&c.city.sub)for(var n=0;n<c.city.sub.length;n++)if(e[2]===c.city.sub[n].name){i.$getByHandle(c.countryHandle).scrollTo(0,n*c.step),c.country=c.city.sub[n];break}},c.watchChange&&e.$watch("options.areaData",function(e,n){e!==n&&o(e)&&e.length>1&&e.join(c.tag)!==c.areaData&&(c.isCreated?c.initAreaData(e):c.defaultAreaData=e,c.areaData=e.join(c.tag))}),r.on("click",function(){return d?(d.show(),!1):(c.isCreated=!0,void t.fromTemplateUrl("ionic-citypicker.html",{scope:e,animation:"slide-in-up",backdropClickToClose:c.backdropClickToClose,hardwareBackButtonClose:c.hardwareBackButtonClose}).then(function(e){d=e,n(function(){d.show(),c.initAreaData(c.defaultAreaData)},50)}))}),e.$on("$destroy",function(){d&&d.remove()})}}}]);